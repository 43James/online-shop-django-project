{% extends "base.html" %}

{% block content %}

{% if orders %}
{% for order in orders %}
<div class="col-md-7 mb-4 border rounded p-3 justify-content-center container">
    <!-- order id on right -->
    <b style="float: right;">Order Id: {{ order.id }}</b>

    <!-- order payment status -->
    <div class="row">
        <div class="col">
            {% if order.status %}
            <h3><b class="text-success">ดำเนินการสำเร็จ <i class="bi bi-check-circle-fill"></i></b></h3>
            <h5><b style="font-weight: bold;">วันที่รับของ : <i class="bi bi-calendar-check-fill text-primary"> {{ order.date_receive }}</i></b></h5>
            {% elif order.refuse %}
            <h3><b class="text-danger">ปฏิเสธคำร้อง <i class="bi bi-heartbreak-fill"></i></b></h3>
            {% else %}
            <h4><b class="text-warning">รอดำเนินการ..</b></h4>
            <h5><b style="font-weight: bold;">วันที่รับของ : <i class="bi bi-calendar-check-fill text-warning"> รอดำเนินการ</i></b></h5>
            {% endif %}
        </div>
    </div>

    


    <div class="text-muted border-top pt-2"></div>
    {% for item in order.items.all %}
    <div class="border-bottom p-2">
        <p>รายการ : <a class="text-decoration-none"
                href="{{ item.product.get_absolute_url }}">{{item.product.title}}</a></p>
        <p>ราคา : {{item.price}} ฿</p>
        <p>จำนวน : {{item.quantity}}</p>
    </div>
    {% endfor %}
    <b>Total price: ${{ order.get_total_price }}</b>
</div>
{% endfor %}
{% else %}
<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8 mt-5 pt-5 text-center">
        <br>
        <h3 class="text-muted text-capitalize">Orders list is empty..!</h3>
        <a href="/" class="text-primary text-decoration-none">Back</a>
    </div>
    <div class="col-md-2"></div>
</div>
{% endif %}

{% endblock %}